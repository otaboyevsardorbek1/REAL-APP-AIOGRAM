<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Market - AliExpress Style</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
        header { background: #333; color: white; padding: 10px; text-align: center; }
        #search { margin: 10px; padding: 10px; width: 80%; }
        #filter { margin: 10px; }
        .product-list { display: flex; flex-wrap: wrap; justify-content: center; }
        .product { border: 1px solid #ddd; margin: 10px; padding: 10px; width: 200px; background: white; cursor: pointer; transition: transform 0.2s; }
        .product:hover { transform: scale(1.05); }
        .product img { width: 100%; height: 150px; object-fit: cover; }
        .cart { position: fixed; top: 10px; right: 10px; background: #4CAF50; color: white; padding: 10px; border-radius: 5px; cursor: pointer; }
        .cart-items { display: none; position: absolute; top: 50px; right: 0; background: white; border: 1px solid #ddd; padding: 10px; width: 200px; }
        button { background: #4CAF50; color: white; border: none; padding: 10px; cursor: pointer; }
        button:hover { background: #45a049; }
    </style>
</head>
<body>
    <header>
        <h1>Software Market</h1>
        <input type="text" id="search" placeholder="Dastur nomini qidiring...">
        <select id="filter">
            <option value="all">Barcha tillar</option>
            <option value="python">Python</option>
            <option value="javascript">JavaScript</option>
            <option value="java">Java</option>
            <option value="cpp">C++</option>
            <option value="php">PHP</option>
        </select>
    </header>

    <div class="cart" onclick="toggleCart()">Savat (0)</div>
    <div class="cart-items" id="cartItems">
        <h3>Savat</h3>
        <ul id="cartList"></ul>
        <button onclick="checkout()">Sotib Olish</button>
    </div>

    <div class="product-list" id="productList">
        <!-- Mahsulotlar JS orqali qo'shiladi -->
    </div>

    <script>
        // Namuna dasturlar ma'lumotlari (haqiqiyda backenddan yuklang)
        const products = [
            { id: 1, name: "Python AI Script", lang: "python", price: 50, img: "https://via.placeholder.com/200?text=Python+AI" },
            { id: 2, name: "JS Web App", lang: "javascript", price: 30, img: "https://via.placeholder.com/200?text=JS+App" },
            { id: 3, name: "Java Game", lang: "java", price: 40, img: "https://via.placeholder.com/200?text=Java+Game" },
            { id: 4, name: "C++ Tool", lang: "cpp", price: 60, img: "https://via.placeholder.com/200?text=C%2B%2B+Tool" },
            { id: 5, name: "PHP CMS", lang: "php", price: 25, img: "https://via.placeholder.com/200?text=PHP+CMS" },
            { id: 6, name: "django shop web site", lang: "python", price: 1000, img: "https://via.placeholder.com/200?text=django+shop" }
        ];

        let cart = [];
        const productList = document.getElementById('productList');
        const searchInput = document.getElementById('search');
        const filterSelect = document.getElementById('filter');
        const cartBtn = document.querySelector('.cart');
        const cartItems = document.getElementById('cartItems');
        const cartList = document.getElementById('cartList');

        // Mahsulotlarni ko'rsatish
        function displayProducts(filteredProducts) {
            productList.innerHTML = '';
            filteredProducts.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';
                productDiv.innerHTML = `
                    <img src="${product.img}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>Til: ${product.lang}</p>
                    <p>Narx: $${product.price}</p>
                    <button onclick="addToCart(${product.id})">Savatga Qo'shish</button>
                `;
                productList.appendChild(productDiv);
            });
        }

        // Savatga qo'shish
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCart();
            alert(`${product.name} savatga qo'shildi!`);
        }

        // Savatni yangilash
        function updateCart() {
            cartBtn.textContent = `Savat (${cart.length})`;
            cartList.innerHTML = '';
            cart.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.name} - $${item.price}`;
                cartList.appendChild(li);
            });
        }

        // Savatni ko'rsatish/yashirish
        function toggleCart() {
            cartItems.style.display = cartItems.style.display === 'block' ? 'none' : 'block';
        }

        // Sotib olish (oddiy alert, haqiqiyda to'lov integratsiyasi)
        function checkout() {
            if (cart.length === 0) {
                alert('Savat bo\'sh!');
                return;
            }
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            alert(`Jami: $${total}. To'lov jarayoni boshlandi! (Haqiqiyda Stripe qo'shing)`);
            cart = [];
            updateCart();
        }

        // Qidiruv va filtr
        function filterProducts() {
            const query = searchInput.value.toLowerCase();
            const lang = filterSelect.value;
            const filtered = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(query);
                const matchesLang = lang === 'all' || product.lang === lang;
                return matchesSearch && matchesLang;
            });
            displayProducts(filtered);
        }

        // Hodisalar
        searchInput.addEventListener('input', filterProducts);
        filterSelect.addEventListener('change', filterProducts);

        // Boshlang'ich ko'rsatish
        displayProducts(products);
    </script>
</body>
</html>
